{% extends "base.html" %}

{% block title %}编辑用户{% endblock %}

{% block content %}
<div class="content-container">
    <div class="page-header">
        <h1 class="page-title">编辑用户</h1>
    </div>
    
    <div class="form-layout">
        <form method="POST">
            <div class="form-group">
                <label for="username">用户名</label>
                <input type="text" class="form-control" id="username" name="username" value="{{ user.username }}" required>
            </div>
            
            <div class="form-group">
                <label for="department">部门</label>
                <input type="text" class="form-control" id="department" name="department" value="{{ user.department }}" required>
            </div>
            
            <div class="form-group">
                <label for="password">密码</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="留空表示不修改密码">
            </div>

            <div class="form-group">
                <label for="company_id">所属公司</label>
                <select class="form-control" id="company_id" name="company_id" required>
                    <option value="">请选择公司</option>
                    {% for company in companies %}
                    <option value="{{ company.id }}" {% if user.company_id == company.id %}selected{% endif %}>{{ company.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="ap_mac">默认基站MAC</label>
                <select class="form-control" id="ap_mac" name="ap_mac">
                    <option value="">请选择基站</option>
                    {% for estatione in estationes %}
                    <option value="{{ estatione.mac_id }}" {% if user.ap_mac == estatione.mac_id %}selected{% endif %}>{{ estatione.mac_id }} - {{ estatione.location }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="colors">灯条颜色</label>
                <select class="form-control" id="colors" name="colors">
                    <option value="">请选择颜色</option>
                    <option value="red" {% if user.colors == 'red' %}selected{% endif %}>红色</option>
                    <option value="green" {% if user.colors == 'green' %}selected{% endif %}>绿色</option>
                    <option value="blue" {% if user.colors == 'blue' %}selected{% endif %}>蓝色</option>
                    <option value="yellow" {% if user.colors == 'yellow' %}selected{% endif %}>黄色</option>
                    <option value="cyan" {% if user.colors == 'cyan' %}selected{% endif %}>青色</option>
                    <option value="purple" {% if user.colors == 'purple' %}selected{% endif %}>紫色</option>
                    <option value="white" {% if user.colors == 'white' %}selected{% endif %}>白色</option>
                </select>
            </div>

            <div class="form-group">
                <label for="time">亮灯时长（秒）</label>
                <select class="form-control" id="time" name="time">
                    <option value="">请选择时长</option>
                    <option value="1" {% if user.time == 1 %}selected{% endif %}>5秒</option>
                    <option value="2" {% if user.time == 2 %}selected{% endif %}>10秒</option>
                    <option value="3" {% if user.time == 3 %}selected{% endif %}>15秒</option>
                    <option value="4" {% if user.time == 4 %}selected{% endif %}>20秒</option>
                    <option value="5" {% if user.time == 5 %}selected{% endif %}>30秒</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="titles">显示标签</label>
                <input type="text" class="form-control" id="titles" name="titles" value="{{ user.titles }}" placeholder="请输入显示标签">
            </div>
            
            <div class="form-group">
                <button type="submit" class="btn btn-primary">保存修改</button>
                <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary">返回</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}